<footer>
  <!-- Switch to enable utac-browser enhancement -->
  <label for="enhance">
    <input type="checkbox" role="switch" id="enhance" name="enhance" />
    Activer l'am√©lioration UX en JavaScript
  </label>
  <script>
    function initEnhanceCheckbox() {
      const enhanceCheckbox = document.getElementById("enhance");
      enhanceCheckbox.checked = isUtacEnhancementEnabled();
      enhanceCheckbox.addEventListener("change", function () {
        utacEnhance(this.checked);
      });
    }
    initEnhanceCheckbox();
  </script>

  <!-- Example of partiel refresh -->
  <p>Heure du serveur : <span id="time">(chargement...)</span></p>
  <script>
    function refreshTime() {
      fetch("/time", {
        method: "POST",
      })
        .then((response) => response.text())
        .then((html) => {
          // TODO QUESTION mettre en commun la logique de remplacement avec utac-browser/replacePageContent.js ?
          // Faire un replaceContent(document.documentElement) et un replaceContent(document.getElementById("time")) ?
          document.getElementById("time").innerHTML = html;
          setTimeout(refreshTime, 1000);
        })
        .catch((error) => {
          document.getElementById("time").innerHTML = error;
          setTimeout(refreshTime, 1000);
        });
    }
    refreshTime();
  </script>

  <p>
    <small
      >Built with <a href="https://github.com/acailly/utac">utac</a> and
      <a href="https://picocss.com/examples/classless/">Pico.css</a></small
    >
  </p>
</footer>
